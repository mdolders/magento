<?php
 /**
 *                  ___________       __            __
 *                  \__    ___/____ _/  |_ _____   |  |
 *                    |    |  /  _ \\   __\\__  \  |  |
 *                    |    | |  |_| ||  |   / __ \_|  |__
 *                    |____|  \____/ |__|  (____  /|____/
 *                                              \/
 *          ___          __                                   __
 *         |   |  ____ _/  |_   ____ _______   ____    ____ _/  |_
 *         |   | /    \\   __\_/ __ \\_  __ \ /    \ _/ __ \\   __\
 *         |   ||   |  \|  |  \  ___/ |  | \/|   |  \\  ___/ |  |
 *         |___||___|  /|__|   \_____>|__|   |___|  / \_____>|__|
 *                  \/                           \/
 *                  ________
 *                 /  _____/_______   ____   __ __ ______
 *                /   \  ___\_  __ \ /  _ \ |  |  \\____ \
 *                \    \_\  \|  | \/|  |_| ||  |  /|  |_| |
 *                 \______  /|__|    \____/ |____/ |   __/
 *                        \/                       |__|
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Creative Commons License.
 * It is available through the world-wide-web at this URL:
 * http://creativecommons.org/licenses/by-nc-nd/3.0/nl/deed.en_US
 * If you are unable to obtain it through the world-wide-web, please send an email
 * to servicedesk@tig.nl so we can send you a copy immediately.
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade this module to newer
 * versions in the future. If you wish to customize this module for your
 * needs please contact servicedesk@tig.nl for more information.
 *
 * @copyright   Copyright (c) 2016 Total Internet Group B.V. (http://www.tig.nl)
 * @license     http://creativecommons.org/licenses/by-nc-nd/3.0/nl/deed.en_US
  *
  * @var TIG_PostNL_Block_Adminhtml_System_Config_Form_Field_SupportTab $this
 */
?>
<?php $_postnlRegisterUrl     = $this->getPostnlRegisterUrl(); ?>
<?php $_knowledgebaseUrl      = $this->getKnowledgebaseUrl(); ?>
<?php $_newTicketUrl          = $this->getNewTicketUrl(); ?>
<?php $_installationManualUrl = $this->getInstallationManualUrl(); ?>
<?php $_userGuideUrl          = $this->getUserGuideUrl(); ?>
<?php $_changelogUrl          = $this->getChangelogUrl(); ?>
<?php $_kbUrl                 = $this->getKbUrl(); ?>
<?php $_stability             = $this->getStability(); ?>
<?php $_compatibility         = $this->getCompatibility(); ?>
<?php $_postnlDocumentation   = $this->getPostnlDocumentationUrl(); ?>
<?php $_citServicedeskEmail   = $this->getCitServicedeskEmail(); ?>
<tr>
    <td>
        <h2 class="content-heading"><img src="<?php echo $this->getSkinUrl('images/TIG/PostNL/logo_postnl.png'); ?>"/> <?php echo $this->__('PostNL version %s', $this->getVersion()); if ($_stability != 'stable') { echo ' - ' . $_stability; } ?></h2>
        <table id="supportWrap" cellpadding="0" cellspacing="0">
            <tr>
                <td class="col-left">
                    <div class="text-box">
                        <h4><?php echo $this->__("We urge you to read these instructions before you proceed to use this extension."); ?></h4>
                    </div>

                    <div class="text-box">
                        <ul class="postnl-config-warning">
                            <li><?php echo $this->__("You should make sure that each product you intend to ship using PostNL has a maximum size of 175 x 78 x 58 cm and weighs less than 30 kg. You will have to split heavier orders into separate parcels. To do this you may create multiple shipments for a single order or you may use the extension's multi-colli functionality."); ?></li>
                            <li><?php echo $this->__("Configure the PostNL sending method under system > config > shipping methods > PostNL. You may choose to charge either a flat rate or a table rate-based shipping fee. More info on how to setup the Table Rate shipping method can be found <a href='%s' target='_blank'>here</a>.", 'http://www.magentocommerce.com/knowledge-base/entry/how-do-i-set-up-table-rate-shipping'); ?></li>
                            <li><?php echo $this->__("PostNL needs to be able to retrieve a properly formatted address from the checkout process in order to guarantee the order is delivered at the correct address. To do so, you need to enable the postcode validation or configure the appropriate number of street lines in your checkout flow and make sure these have correct labels and validation settings. More info on how to do this, can be found <a href='%s' target='_blank'>here</a>.", 'http://kb.tig.nl/topic/55961916'); ?></li>
                            <li><?php echo $this->__("We highly recommend you place several 'test' shipments, before you use the extension for real shipments."); ?></li>
                        </ul>
                    </div>

                    <div class="text-box">
                        <h3><?php echo $this->__('PHP, Magento & 3rd party version compatibility');?></h3>
                        <?php if (!empty($_compatibility['php'])): ?>
                            <?php $_phpCompatibility = $this->formatCompatibleVersion($_compatibility['php']); ?>
                            <ul>
                                <li><?php echo $this->__('PHP');?> <?php echo $_phpCompatibility; ?></li>
                            </ul>
                        <?php endif; ?>
                        <?php if (!empty($_compatibility['magento'])): ?>
                            <ul>
                                <?php if (!empty($_compatibility['magento']['community'])): ?>
                                    <?php $_magentoCommunityCompatibility = $this->formatCompatibleVersion($_compatibility['magento']['community']); ?>
                                    <li><?php echo $this->__('Magento Community Edition');?> <?php echo $_magentoCommunityCompatibility; ?></li>
                                <?php endif; ?>
                                <?php if (!empty($_compatibility['magento']['enterprise'])): ?>
                                <?php $_magentoEnterpriseCompatibility = $this->formatCompatibleVersion($_compatibility['magento']['enterprise']); ?>
                                    <li><?php echo $this->__('Magento Enterprise Edition');?> <?php echo $_magentoEnterpriseCompatibility; ?></li>
                                <?php endif; ?>
                            </ul>
                        <?php endif; ?>
                        <?php if (!empty($_compatibility['extensions'])): ?>
                            <ul>
                                <?php foreach ($_compatibility['extensions'] as $_compatibleExtension => $_compatibleVersions):?>
                                    <?php $_compatibleVersions = $this->formatCompatibleVersion($_compatibleVersions); ?>
                                    <li><?php echo $this->getCompatibleExtensionLabel($_compatibleExtension); ?> <?php echo $_compatibleVersions; ?></li>
                                <?php endforeach; ?>
                            </ul>
                        <?php endif; ?>
                        <ul>
                            <li><?php echo $this->__('We cannot guarantee compatibility with non supported extensions and versions of Magento.'); ?></li>
                        </ul>
                    </div>
                </td>

                <td class="col-faux"></td>

                <td class="col-right">
                    <div class="text-box">
                        <h3><?php echo $this->__('Support');?></h3>
                        <p><?php echo $this->__('The extension is developed by TIG, commissioned by PostNL.');?></p>
                        <h4><em><?php echo $this->__('PostNL account information and PostNL services');?></em></h4>
                        <p><?php echo $this->__('For questions related to your PostNL account and PostNL delivery options, please contact PostNL.');?></p>
                        <table class="contact">
                            <tr>
                                <td class="first icon icon-website"><?php echo $this->__('Website:');?></td>
                                <td class="last"><a target="_blank" href="<?php echo $_postnlRegisterUrl; ?>"><?php echo $_postnlRegisterUrl; ?></a></td>
                            </tr>
                            <tr>
                                <td class="first icon icon-nl"><?php echo $this->__('Phone:');?></td>
                                <td class="last">+31 (0)58-2333343</td>
                            </tr>
                        </table>
                        <h4><em><?php echo $this->__('Extension support and configuration questions');?></em></h4>
                        <p><?php echo $this->__('For questions about installing and configuring the extension please consult the relevant documentation:');?></p>
                        <ul class="manual-links">
                            <li><a target="_blank" href="<?php echo $_installationManualUrl; ?>" title="<?php echo $this->__('View the installation manual.');?>"><?php echo $this->__('Installation manual');?></a></li>
                            <li><a target="_blank" href="<?php echo $_userGuideUrl; ?>" title="<?php echo $this->__('View the user manual.');?>"><?php echo $this->__('User manual');?></a></li>
                            <li><a target="_blank" href="<?php echo $_postnlDocumentation; ?>" title="<?php echo $this->__('View the documentation.');?>"><?php echo $this->__('Documentation');?></a></li>
                            <li><a target="_blank" href="<?php echo $_changelogUrl; ?>" title="<?php echo $this->__('View the release notes of the extension.');?>"><?php echo $this->__('Release notes');?></a></li>
                            <li><a target="_blank" href="<?php echo $_kbUrl; ?>" title="<?php echo $this->__('Frequently asked questions.');?>"><?php echo $this->__('FAQ');?></a></li>
                        </ul>
                        <h4><em><?php echo $this->__('Unable to find the answer you need using the links above?'); ?></em></h4>
                        <p><?php echo $this->__('Use the button below to request help from the PostNL servicedesk.'); ?></p>
                        <ul class="manual-links">
                            <li><a href="mailto:<?php echo $_citServicedeskEmail; ?>" title="<?php echo $this->__('Request help from the servicedesk');?>"><?php echo $this->__('Request help from the servicedesk');?></a></li>
                        </ul>
                    </div>
                </td>
            </tr>
        </table>
    </td>
</tr>
